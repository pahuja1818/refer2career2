<div class="wh-100" style="overflow-y: auto; overflow-x: hidden;">
  <ion-header style="position: fixed">
    <ion-toolbar>
      <ion-buttons slot="start">
        <ion-menu-button></ion-menu-button>
      </ion-buttons>
      <ion-title>My Profile</ion-title>
    </ion-toolbar>
  </ion-header>
  <div class="row justify-content-center" style="overflow: auto;">
    <div class="col-sm-12 m-2 d-flex justify-content-end">
      <button class="btn btn-primary m-2 position-fixed bg-violet text-sm px-3 py-1 material-icons-outlined"
        style="z-index: 99;" (click)="addJobPost()">edit</button>
    </div>
  </div>
  <div class="m-3 mt-5 p-2 bg-white"
    style="margin-top: 70px !important; border-radius: 7px; overflow-y: auto !important; overflow-x: hidden; border: 1px solid #cccccc;">
    <div class="mt-2 row d-flex justify-content-center">
      <span class="text-grey text-md col-sm-12 ml-4">Upload resume : </span>
      <div class="row justify-content-center">
        <div class="col-sm-6">
          <span class="material-icons display-1 text-danger mx-auto">backup</span>
          <div class="form-group">
            <input type="file" accept=".pdf,.docx" class="form-control-file" id="exampleFormControlFile1">
          </div>
        </div>
      </div>
      <div class="row justify-content-center my-2">
      </div>
    </div>
  </div>
  <div class="m-3 mt-5 p-2 bg-white"
    style="margin-top: 40px !important; border-radius: 7px; overflow-y: auto !important; overflow-x: hidden; border: 1px solid #cccccc;">
    <div class="d-flex justify-content-between vertical-center mb-3">
      <div class="mt-2 row d-flex justify-content-center" [formGroup]="profileForm">
        <span class="text-grey text-md col-sm-12 ml-4 mb-3">Basic Info : </span>
        <div class="row col-sm-9 d-flex justify-content-between">
          <div class="col-sm-5 mx-3 mb-2">
            <mat-form-field appearance="outline" class="p-0 w-100 mat-form-field">
              <mat-label class="p-0">Name</mat-label>
              <input matInput placeholder="Enter name" class="p-0" formControlName='name'>
              <mat-error>Enter valid name</mat-error>
            </mat-form-field>
          </div>
          <div class="col-sm-5 mx-3 mb-2">
            <mat-form-field appearance="outline" class="p-0 w-100 mat-form-field">
              <mat-label class="p-0">Phone number</mat-label>
              <span matPrefix>+91 &nbsp;</span>
              <input matInput type="tel" placeholder="Enter email" class="p-0" formControlName='mobile'>
              <mat-error>Enter valid mobile number</mat-error>
            </mat-form-field>
          </div>
          <div class="col-sm-5 mx-3 mb-2">
            <mat-form-field appearance="outline" class="p-0 w-100 mat-form-field">
              <mat-label class="p-0">Email</mat-label>
              <input matInput placeholder="Enter email" class="p-0" formControlName='email'>
              <mat-error>Enter valid email</mat-error>
            </mat-form-field>
          </div>
          <div class="col-sm-5 mx-3 mb-2">
            <mat-form-field appearance="outline" class="p-0 w-100 mat-form-field">
              <mat-label class="p-0">Alternate contact number</mat-label>
              <input matInput placeholder="Enter email" class="p-0" formControlName='alternateNumber'>
              <mat-error>Enter contact number</mat-error>
            </mat-form-field>
          </div>
          <div class="col-sm-5 mx-3 mb-2">
            <mat-form-field appearance="outline" class="p-0 w-100 mat-form-field">
              <mat-label>Date of Birth</mat-label>
              <input matInput readonly [matDatepicker]="picker1" formControlName='dob'>
              <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
              <mat-datepicker #picker1></mat-datepicker>
              <mat-hint class="text-light-grey text-xs">Click on icon to select date</mat-hint>
              <mat-error>Enter valid DOB</mat-error>
            </mat-form-field>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="m-3 mt-5 p-2 bg-white"
    style="margin-top: 40px !important; border-radius: 7px; overflow-y: auto !important; overflow-x: hidden; border: 1px solid #cccccc;">
    <div class="mt-2 row d-flex justify-content-center">
      <span class="text-grey text-md col-sm-12 ml-4 mb-3">Skills : </span>
      <div class="row col-sm-9 d-flex justify-content-center">
        <div class="col-sm-9" style="border-radius: 7px;">
          <label class="bold text-grey text-sm mt-2">Skill name</label>
          <div class="row vertical-center">
            <div class="col-sm-9">
              <input type="text" autocomplete="nope" [(ngModel)]='skillName'
                class="form-control mb-2 text-grey semi-bold">
            </div>
            <div class="col-sm-3">
              <button class="btn btn-primary w-100 h-100 bg-violet px-1 mb-2 py-1" (click)="addSkill()">Add</button>
            </div>
          </div>
        </div>
        <div class="col-sm-9 my-4">
          <div *ngFor="let data of skillsArray; index as i" class="p-1 px-2 bg-light vertical-center"
            style="display: inline-block; border-radius: 7px; width: max-content; margin: 3px !important; white-space:nowrap;">
            <span class="text-md text-grey mr-3">{{data}}</span>
            <span class="material-icons text-sm text-link" (click)="removeTag(i)">close</span>
          </div>
        </div>
      </div>
      <span class="text-sm text-light-grey w-100 mx-3 mt-4">Skills plays a major role to match a Job profile.</span>
    </div>
  </div>
  <div class="m-3 mt-5 p-2 bg-white"
    style="margin-top: 40px !important; border-radius: 7px; overflow-y: auto !important; overflow-x: hidden; border: 1px solid #cccccc;">
    <div class="mt-2 row d-flex justify-content-center">
      <span class="text-grey text-md col-sm-12 ml-4 mb-3">Work experience : </span>
      <div class="w-100">
        <button class="btn btn-primary bg-violet px-3 py-0 mx-auto" (click)="openWorkExpModal(workExp)">Add
          experience</button>
      </div>
      <div class="row w-100 d-flex justify-content-start">
        <div class="col-sm-12 row bg-grey my-4 d-flex justify-content-center">
          <div *ngFor="let data of workExpArray; index as i" class="col-sm-4 text-break p-3 bg-white box-shadow"
            style="border-radius: 7px; margin: 3px !important;">
            <div class="d-flex justify-content-end">
              <span class="material-icons text-grey mr-2 text-link" (click)="editWorkExp(data, workExp, i)">edit</span>
              <span class="material-icons text-grey text-link" (click)="deleteWorkExp(i)">delete</span>
            </div>
            <span class="text-sm d-block m-2 text-grey mr-3"><b>Job Title : </b>{{data.title}}</span>
            <span class="text-sm d-block m-2 text-grey mr-3"><b>Company name : </b>{{data.companyName}}</span>
            <span class="text-sm d-block m-2 text-grey mr-3"><b>Start date: </b>{{data.startDate | date : 'dd MMMM
              yyyy'}}</span>
            <span class="text-sm d-block m-2 text-grey mr-3"><b>End Date : </b>{{data.endDate | date : 'dd MMMM
              yyyy'}}</span>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="m-3 mt-5 p-2 bg-white"
    style="margin-top: 40px !important; border-radius: 7px; overflow-y: auto !important; overflow-x: hidden; border: 1px solid #cccccc;">
    <div class="mt-2 row d-flex justify-content-center">
      <span class="text-grey text-md col-sm-12 ml-4 mb-3">Education : </span>
      <div class="w-100">
        <button class="btn btn-primary bg-violet px-3 py-0 mx-auto" (click)="openEducationModal(education)">Add
          Education</button>
      </div>
      <div class="row w-100 d-flex justify-content-start">
        <div class="col-sm-12 row bg-grey my-4 d-flex justify-content-center">
          <div *ngFor="let data of educationArray; index as i" class="col-sm-4 text-break p-3 bg-white box-shadow"
            style="border-radius: 7px; margin: 3px !important;">
            <div class="d-flex justify-content-end">
              <span class="material-icons text-grey mr-2 text-link"
                (click)="editEducation(data, education, i)">edit</span>
              <span class="material-icons text-grey text-link" (click)="deleteEducation(i)">delete</span>
            </div>
            <span class="text-sm d-block m-2 text-grey mr-3"><b>Degree/Standard : </b>{{data.degree}}</span>
            <span class="text-sm d-block m-2 text-grey mr-3"><b>School : </b>{{data.school}}</span>
            <span class="text-sm d-block m-2 text-grey mr-3"><b>Field: </b>{{data.field}}</span>
            <span class="text-sm d-block m-2 text-grey mr-3"><b>Completion date : </b>{{data.completionDate | date : 'dd
              MMMM
              yyyy'}}</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<ng-template #workExp>
  <div class="bg-white p-3" style="border-radius: 7px;">
    <div class="d-block text-right">
      <span class="material-icons text-grey text-right text-link" (click)="closeModal()">close</span>
    </div>
    <span class="text-grey semi-bold d-block text-center my-2">{{workExpToUpdate !== undefined ? 'Update' : 'Add'}}
      experience
      details</span>
    <div class="row p-0 m-3">
      <div class="col-sm-12">
        <mat-form-field appearance="outline" class="p-0 w-100 mat-form-field">
          <mat-label>Enter a date range</mat-label>
          <mat-date-range-input [formGroup]="range" [rangePicker]="picker">
            <input matStartDate readonly formControlName="start" placeholder="Start date">
            <input matEndDate readonly formControlName="end" placeholder="End date">
          </mat-date-range-input>
          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-date-range-picker #picker></mat-date-range-picker>

          <mat-error>Invalid start date</mat-error>
          <mat-error>Invalid end date</mat-error>
          <mat-hint class="text-light-grey text-xs">Click on icon to select date</mat-hint>
        </mat-form-field>
      </div>
      <div class="col-sm-12 mt-3">
        <mat-form-field appearance="outline" class="p-0 w-100 mat-form-field">
          <mat-label class="p-0">Job title</mat-label>
          <input matInput placeholder="Enter name" class="p-0" [formControl]='title'>
          <mat-error>Enter valid title</mat-error>
          <mat-hint class="text-light-grey text-xs">Ex - Java developer</mat-hint>
        </mat-form-field>
      </div>
      <div class="col-sm-12 mt-3">
        <mat-form-field appearance="outline" class="p-0 w-100 mat-form-field">
          <mat-label class="p-0">Company Name</mat-label>
          <input matInput placeholder="Enter company name" class="p-0" [formControl]='companyName'>
          <mat-error>Enter valid company Name</mat-error>
          <mat-hint class="text-light-grey text-xs">Ex - Google</mat-hint>
        </mat-form-field>
      </div>
    </div>
    <div class="w-100 d-flex justify-content-center mt-4">
      <button class="btn btn-primary bg-violet py-1 px-2" (click)="addWorkExp()">Save</button>
    </div>
  </div>
</ng-template>

<ng-template #education>
  <div class="bg-white p-3" style="border-radius: 7px;">
    <div class="d-block text-right">
      <span class="material-icons text-grey text-right text-link" (click)="closeModal()">close</span>
    </div>
    <span class="text-grey semi-bold d-block text-center my-2">{{educationToUpdate !== undefined ? 'Update' : 'Add'}}
      education
      details</span>
    <div class="row p-0 m-3" [formGroup]="educationDetailsForm">
      <div class="col-sm-12">
        <mat-form-field appearance="outline" class="p-0 w-100 mat-form-field">
          <mat-label>Completion date</mat-label>
          <input matInput readonly [matDatepicker]="picker1" formControlName='completionDate'>
          <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
          <mat-datepicker #picker1></mat-datepicker>
          <mat-hint class="text-light-grey text-xs">Click on icon to select date</mat-hint>
          <mat-error>Enter valid date</mat-error>
        </mat-form-field>
      </div>
      <div class="col-sm-12 mt-3">
        <mat-form-field appearance="outline" class="p-0 w-100 mat-form-field">
          <mat-label class="p-0">Degree/standard</mat-label>
          <input matInput placeholder="Enter degree/standard" class="p-0" formControlName='degree'>
          <mat-error>Enter valid detail</mat-error>
          <mat-hint class="text-light-grey text-xs">Ex - B.Tech</mat-hint>
        </mat-form-field>
      </div>
      <div class="col-sm-12 mt-3">
        <mat-form-field appearance="outline" class="p-0 w-100 mat-form-field">
          <mat-label class="p-0">Field/Stream</mat-label>
          <input matInput placeholder="Enter field" class="p-0" formControlName='field'>
          <mat-error>Enter valid field</mat-error>
          <mat-hint class="text-light-grey text-xs">Ex - Computer Science</mat-hint>
        </mat-form-field>
      </div>
      <div class="col-sm-12 mt-3">
        <mat-form-field appearance="outline" class="p-0 w-100 mat-form-field">
          <mat-label class="p-0">School</mat-label>
          <input matInput placeholder="Enter name" class="p-0" formControlName='school'>
          <mat-error>Enter valid School</mat-error>
          <mat-hint class="text-light-grey text-xs">Ex - Oxford university</mat-hint>
        </mat-form-field>
      </div>
      <div class="col-sm-12 mt-3">
        <mat-form-field appearance="outline" class="p-0 w-100 mat-form-field">
          <mat-label class="p-0">GPA</mat-label>
          <input matInput type="number" placeholder="Enter GPA" class="p-0" formControlName='gpa'>
          <mat-error>Enter valid gpa</mat-error>
          <mat-suffix>/ 10</mat-suffix>
        </mat-form-field>
      </div>
    </div>
    <div class="w-100 d-flex justify-content-center mt-4">
      <button class="btn btn-primary bg-violet py-1 px-2" (click)="addEducation()">Save</button>
    </div>
  </div>
</ng-template>